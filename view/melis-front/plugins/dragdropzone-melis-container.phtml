<?php
$data_dragdropzone_id = " data-dragdropzone-id='$this->dragdropzoneId'";

$pluginId = '';
if (!empty($this->pluginFrontConfig) && !empty($this->pluginFrontConfig['id']))
    $pluginId = $this->pluginFrontConfig['id'];
?>

<div class="melis-dragdropzone-container" title="<?= $this->dragdropzoneId; ?>"
    data-dragdropzone-id="<?= $this->dragdropzoneId; ?>"
    data-after="<?= $this->dragDropLabel; ?>"
    data-module="<?= $this->configPluginKey; ?>"
    data-plugin="<?= $this->pluginName; ?>"
    data-plugin-id="<?= $pluginId; ?>"
    data-melis-tag="<?= $this->pluginXmlDbKey; ?>"
    data-layout-template="<?= $this->dndLayoutTemplate; ?>"
    data-site-module="<?= $this->siteModule; ?>">
    <div class="dnd-layout-wrapper">
        <div class="dnd-layout-indicator melis-plugin-indicator">
            <img src="/MelisFront/images/icons/dnd-icon.png" alt="dragndrop icon" />
        </div>
        <div class="dnd-layout-buttons melis-plugin-tools-box">
            <div class="melis-plugin-title-box">
                <span class="melis-dnd-title melis-module-title">DragnDrop Zone</span>
                <span class="melis-dnd-sub-title melis-plugin-title">Layout</span>
            </div>
            <?= $this->partial('MelisFront/dragdropzone/meliscontainer-buttons'); ?>
            <button class="btn dnd-plus-button" data-page-id="<?= $this->pageId; ?>" data-plugin-id="<?= $pluginId ?>">
                <i class="fa fa-plus"></i>
            </button>
            <div class="m-plugin-sub-tools">
                <div class="m-move-handle">
                    <i class="fa fa-arrows"></i>
                </div>
            </div>
        </div>
        <div class="<?= $this->hasDragDropZone ? '' : 'melis-dragdropzone' ?> no-content"
            data-dragdropzone-id="<?= $this->dragdropzoneId; ?>"
            data-after="<?= $this->dragDropLabel; ?>"
            data-module="<?= $this->configPluginKey; ?>"
            data-plugin="<?= $this->pluginName; ?>"
            data-plugin-id="<?= $pluginId ?>"
            data-melis-tag="<?= $this->pluginXmlDbKey; ?>"
            data-site-module="<?= $this->siteModule; ?>">
            <?php
                echo $this->viewFront;
            ?>
        </div>
    </div>
</div>